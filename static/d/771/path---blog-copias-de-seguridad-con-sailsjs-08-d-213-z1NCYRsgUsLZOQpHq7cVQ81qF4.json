{"data":{"markdownRemark":{"html":"<p>Últimamente estoy haciendo varias apps usando <strong><a href=\"https://facebook.github.io/react/\">ReactJS</a></strong> con el framework <strong><a href=\"http://sailsjs.org/\">SailsJS</a></strong>. <strong>SailsJS</strong> </p>\n<p>ofrece una api desde el minuto 1 donde se pueden hacer altas, bajas, modificaciones y búsquedas. Además tiene distintos adaptadores para conectar con distintas bases de datos. </p>\n<p>El problema que tenía es que quería guardar mis datos, por si en el futuro hubiese algún problema. Buscando en google, descubrí que se puede añadir funcionalidad en el archivo config/bootstrap.js antes de que se inicie el servidor con <strong>sails lift</strong>. </p>\n<p>´´´javascript\nmodule.exports.bootstrap = function(cb) {\nvar sys = require(‘sys’);\nvar exec = require(‘child_process’).exec;\nvar child;\nvar date = new Date();\nvar fecha = date.getFullYear() + “-” + date.getMonth() + 1 + “-” + date.getDate();\nvar file = “../sql-backup/learnseries”+ fecha + “.sql”;\nchild = exec(“mysqldump -u root -p learnseries > ” +file, function (error, stdout, stderr) {\nif (error !== null) {\nconsole.log(‘exec error: ‘ + error);&#x3C;\n}\n})</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cb();</code></pre></div>\n<p>  }</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Se ejecuta el comando mysqldump con permisos de administrador y se guarda un fichero mysql con la fecha en la que se ejecuta. \n\nDocumentación: [SailsJS Bootstrap file](http://sailsjs.org/documentation/anatomy/my-app/config/bootstrap-js)</code></pre></div>","frontmatter":{"title":"Copias de seguridad con SailsJS","tags":["Javascript"],"subtitle":"","featured_image":{"publicURL":"/static/man-with-tablet-2e4d849d17f364f50a1e5588d71f161f.jpg"}}}},"pageContext":{"pathSlug":"/copias-de-seguridad-con-sailsjs/"}}